pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- simplified multi-bullet system
function _init()
    bullets = {} -- this will store all active bullets
    
    ship = {
     posx = 64, 
     posy = 64
    }
end

function _update()
    -- move each active bullet
    for bullet in all(bullets) do
        bullet.posy -= bullet.spdy
        if bullet.posy < -10 then
         del(bullets, bullet) 
        end
    end
    
    -- shooting mechanism
    if btnp(❎) then
        new_bullet = {
         posx = ship.posx, 
         posy = ship.posy - 7, 
         spdy = 5
        }
        add(bullets, new_bullet) -- add new bullet to the table
    end


	
end

function _draw()
    cls()
    spr(2, ship.posx, ship.posy) -- ship sprite

    -- draw all active bullets
    for bullet in all(bullets) do
        spr(16, bullet.posx, bullet.posy)
    end
    
    print(#bullets)
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000900009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000d0a60d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000567ca5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000095590000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000d55d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000009900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00078000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00087000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00087000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07078070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00800800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
